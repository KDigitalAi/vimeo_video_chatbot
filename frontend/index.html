<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Learning Assistant - Educational Institute</title>
    <!-- Preload critical resources for faster loading -->
    <link rel="preload" href="style.css" as="style">
    <link rel="preload" href="app.js" as="script">
    <link rel="stylesheet" href="style.css?v=3">
    <!-- Google Fonts for educational typography -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Lato:wght@300;400;700&family=Open+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Optimized Font Awesome with integrity check -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <!-- Performance optimization meta tags -->
    <meta name="description" content="AI-powered learning assistant for educational content analysis and student support">
    <meta name="theme-color" content="#2563eb">
    <meta name="color-scheme" content="light">
    <!-- API Configuration -->
    <meta name="api-base-url" content="http://127.0.0.1:8000">
</head>
<body>
    <div class="app-container">
        <!-- Educational Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-text">
                        <h1>Skill Capital Institute</h1>
                        <span class="institution-name">Student Learning Assistant</span>
                    </div>
                </div>
                <div class="header-actions">
                    <button class="btn-accessibility" id="accessibilityToggle" aria-label="Toggle high contrast mode">
                        <i class="fas fa-universal-access" aria-hidden="true"></i>
                    </button>
                    <button class="btn-secondary" id="clearChatBtn" aria-label="Clear chat history">
                        <i class="fas fa-trash" aria-hidden="true"></i>
                        <span>Clear Chat</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Chat Area -->
        <main class="main-content">
                <div class="chat-container" id="chatContainer" role="log" aria-live="polite" aria-label="Chat messages">
                    <!-- Educational Welcome Message -->
                    <div class="message bot-message" role="article">
                        <div class="message-avatar" aria-hidden="true">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                        <div class="message-content">
                            <div class="message-text">
                                <h3>Welcome to your Learning Assistant! ğŸ“</h3>
                                <p>I'm here to help you with your studies and answer questions about your course materials. You can ask me about:</p>
                                <ul>
                                    <li>ğŸ“š Course content and concepts</li>
                                    <li>ğŸ“– Study materials and resources</li> 
                                    <li>ğŸ’¡ Learning strategies and tips</li>
                                    <li>â“ Assignment questions and clarifications</li>
                                </ul>
                                <p><strong>What would you like to learn about today?</strong></p>
                            </div>
                            <div class="message-time" aria-label="Message timestamp">
                                <span id="welcomeTime"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Educational Input Area -->
                <div class="input-container">
                    <div class="input-wrapper">
                        <textarea 
                            id="messageInput" 
                            placeholder="Ask me about your course materials, concepts, or study questions..."
                            rows="1"
                            maxlength="2000"
                            aria-label="Type your learning question"
                            autocomplete="off"
                            spellcheck="true"
                        ></textarea>
                        <button id="sendBtn" class="send-button" disabled aria-label="Send message">
                            <i class="fas fa-paper-plane" aria-hidden="true"></i>
                        </button>
                    </div>
                    <div class="input-footer">
                        <span class="char-count" id="charCount" aria-live="polite">0/2000</span>
                        <span class="input-hint">Press Enter to send, Shift+Enter for new line</span>
                    </div>
                </div>
        </main>


        <!-- Optimized Loading Overlay -->
        <div class="loading-overlay" id="loadingOverlay" role="status" aria-live="polite" aria-label="Loading">
            <div class="loading-spinner">
                <div class="spinner" aria-hidden="true"></div>
                <p>Thinking...</p>
            </div>
        </div>

        <!-- Optimized Error Modal -->
        <div class="modal-overlay" id="errorModal" role="dialog" aria-labelledby="errorTitle" aria-modal="true">
            <div class="modal">
                <div class="modal-header">
                    <h3 id="errorTitle">Error</h3>
                    <button class="modal-close" id="closeErrorModal" aria-label="Close error dialog">
                        <i class="fas fa-times" aria-hidden="true"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <p id="errorMessage"></p>
                </div>
                <div class="modal-footer">
                    <button class="btn-primary" id="dismissError">OK</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Optimized script loading with defer for better performance -->
    <script src="app.js?v=3" defer></script>
</body>
</html>
